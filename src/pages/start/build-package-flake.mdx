---
title: Build a package from a local flake
order: 6
summary: ["Do some stuff", "Do some other stuff"]
---

In the [last guide][prev], we built a Nix package defined in [Nixpkgs] to get a sense of some of the mechanics of Nix packages.
In this guide, we'll dig a bit deeper and build a Nix package from a local [Nix flake][flake].

To get started, select a preferred language:

<Languages client:load />

To get started in your <Language client:load /> project, create an empty directory and initialize a [flake template][templates]:

<Shell client:load />

## Building the package

Whichever language you've selected, you can build the [Nix package][packages] defined in the local flake by running:

```shell
nix build
```

This command determines that the local flake has a [package output][outputs], which is a [derivation] function that defines how the package is built.
In this particular flake there's a `default` package, which enables us to run `nix build` without specifying an output, but if the package were output as `packages.mypkg`, for example, we'd need to run `nix build .#mypkg` to build it.

<SpecificLanguage lang="JavaScript">
Here's the package definition that enables us to build this JavaScript package:

```nix filename=flake.nix
{
  packages.default = pkgs.stdenv.mkDerivation {
    name = "zero-to-nix-javascript";

    buildInputs = [
      pkgs.nodePackages.pnpm
      pkgs.nodejs-18_x
    ];

    src = ./.;

    buildPhase = ''
      pnpm install
      pnpm run build
    '';

    installPhase = ''
      mkdir $out
      cp dist/index.html $out
    '';
  }
}
```

For the full flake, see [`flake.nix`][flake-js] on GitHub or run `cat flake.nix`.
What you see here is a [derivation] function that defines how to build the package, more specifically the `mkDerivation` function provided by the [standard environment][stdenv].

</SpecificLanguage>
<SpecificLanguage lang="Python">
Here's the package definition that enables us to build this Python package:

```nix filename=flake.nix
 packages.default = python.pkgs.buildPythonApplication {
  name = "hello-nix-python";

  buildInputs = with python.pkgs; [ pip ];

  src = ./.;
};
```

For the full flake, see [`flake.nix`][flake-py] on GitHub or run `cat flake.nix`.
What you see here is a [derivation] function that defines how to build the package, more specifically the [`buildPythonApplication`][buildpythonapplication] function.

</SpecificLanguage>
<SpecificLanguage lang="Go">
```nix filename=flake.nix
packages.default = pkgs.buildGo119Module {
  name = "hello-nix-go";
  src = gitignore.lib.gitignoreSource ./.;
  vendorSha256 = "sha256-fwJTg/HqDAI12mF1u/BlnG52yaAlaIMzsILDDZuETrI=";
};
````
</SpecificLanguage>
<SpecificLanguage lang="Rust">
```nix filename=flake.nix
 packages.default = pkgs.rustPlatform.buildRustPackage {
  name = "hello-nix-rust";
  src = ./.;
  cargoLock = {
    lockFile = ./Cargo.lock;
  };
};
```

</SpecificLanguage>

We won't delve too much deeper into [derivations][derivation] and creating your own packages in this guide, but we hope that this provides a solid foundation.

## Package search

It's always good to bear in mind that [Nixpkgs] provides more than 80,000 [searchable][search] packages and you can install packages from plenty of [other sources][flake] as well.
Creating your own [packages] with Nix can be a bit tricky&mdash;though we hope this guide sets you in the right direction!&mdash;so we recommend searching there before you try it on your own.
But if you do opt to create your own, check out the [contributing guidelines][contributing] for [Nixpkgs]

[buildpythonapplication]: https://nixos.org/manual/nixpkgs/stable/#buildpythonapplication-function
[contributing]: https://github.com/NixOS/nixpkgs/blob/master/CONTRIBUTING.md
[derivation]: /concepts/derivations
[devenv]: /start/dev-shell-flake
[flake]: /concepts/flakes
[flake-js]: https://github.com/DeterminateSystems/templates/tree/main/nix/templates/javascript/flake.nix
[flake-py]: https://github.com/DeterminateSystems/templates/tree/main/nix/templates/python/flake.nix
[nixpkgs]: /concepts/nixpkgs
[outputs]: /concepts/flake-outputs
[packages]: /concepts/package
[prev]: /start/build-package-nixpkgs
[search]: https://search.nixos.org/packages
[stdenv]: https://nixos.org/manual/nixpkgs/stable/#chap-stdenv
[templates]: /concepts/flake-templates
