---
title: Explore Nix shell environments
summary: [
  "Use the `nix develop` command to enter a Nix shell defined in a remote [flake](/concepts/flakes)",
  "Run a command inside a shell environment without entering that environment",
  "Explore Nix shell environments tailor made for specific programming languages"
]
order: 3
---

One of [Nix]'s key features for developing software is Nix [shell environments][shell].
You can define shell environments of any complexity using the [Nix language][language].
We'll cover that a bit later, but for now let's get a feel for what a Nix shell is and how it works.

The [`nix develop`][nix-develop] command activates a Nix shell:

```shell
nix develop "github:DeterminateSystems/zero-to-nix#example"
```

You should be greeted with this:

```shell
Welcome to a Nix shell environment!
bash-5.1$
```

Congrats ðŸš€! You're now in a [Bash] environment that includes [jq], [curl], and [Git]. You may already have all three in your environment, but run these commands to see that something new is happening:

```shell
which jq
which curl
which git
```

For jq, for example, you'll see a strange path like this (the input hash part will be different on your machine):

<NixStorePath pkg="jq-1.6-bin" bin="jq" />

What's happened here? The [Nix] CLI did a few things:

* It used the `github:DeterminateSystems/zero-to-nix` [flake reference][flakes] to pull in some Nix code and drilled into a specific [flake output][output] (more on this later).
* It built the [packages] specified in the shell configuration (again, more on this later).
* It [symlinked] those package paths to `jq`, `curl`, and `git`, respectively.

But those symlinks are only valid in your current directory. If you run `cd ..` and then `which git`, you'll no longer see a Nix store path.

A few other things:

* The `Welcome to a Nix shell environment!` greeting is defined in the *shell hook*. This is arbitrary code that you can run when the environment starts up.
* Nix shell environments support environment variables as well. Run `echo $SECRET_PASSWORD` to

For now, let's leave the shell and return to our usual environment:

```shell
exit
```

Now check the path for [Git], which should be installed on your system using `which git`. It should be at a global system path like `/usr/bin/git` (or something similar).
And if you run `echo $SECRET_PASSWORD` again you should get an empty string (unless you happen to have that set on your machine!).

## Run commands inside the shell

While it's fun to explore the shell, you don't always want to be inside the shell to use the shell.
The `nix develop` command provides a `--command` (or `-c`) flag that you can use to run commands that use the shell environment but from your current environment. Here are some examples for the shell we used earlier:

```shell
nix develop "github:DeterminateSystems/zero-to-nix#example" --command git status
nix develop "github:DeterminateSystems/zero-to-nix#example" --command curl --headers https://example.com
nix develop "github:DeterminateSystems/zero-to-nix#example" --command 'echo "{}" | jq .'
```

## Language-specific shells

As we did in the [last section][last], let's get a bit more specific and explore how Nix can benefit more specific programming environments. Select one of these programming languages:

<Languages client:load />

Now explore the shell for <Language client:load />:

<NixDevelop client:load />

<SpecificLanguage client:load lang="JavaScript">
First, let's see the Nix store paths for [Node.js]:

```shell
which node
```

Now use Node to run a program:

```shell
node --eval "console.log('1 + 1 = ' + (1 + 1))"
```
</SpecificLanguage>
<SpecificLanguage client:load lang="Python">
First, let's see the Nix store path for Python:

```shell
which python
```

Now use Python to run a program:

```shell
python -c "print(1 + 1)"
```
</SpecificLanguage>
<SpecificLanguage client:load lang="Go">
First, let's see the Nix store path for the [Go] CLI:

```shell
which go
```

Now check the Go version:

```shell
go --version
```

You should get 1.19.3, though the OS and arch will vary based on your platform.
</SpecificLanguage>
<SpecificLanguage client:load lang="Rust">
First, let's see the Nix store path for [cargo]:

```shell
which cargo
```

Now create a [Rust] project in the current directory and run the example:

```shell
cargo init .
cargo run
```

You should see `Hello, world!`.
</SpecificLanguage>

## A multi-language shell

In the [previous section](#language-specific-shells), we explored Nix shells tailored to specific programming languages. But Nix shell environments are infinitely flexible, enabling you to combine whichever packages you like. Let's explore an example of this:

```shell
nix develop "github:DeterminateSystems/zero-to-nix#multi"
```

This shell environment has several tools available:

* [Terraform]

[bash]: https://www.gnu.org/software/bash
[cargo]: https://doc.rust-lang.org/stable/cargo
[curl]: https://curl.se
[flakes]: /concepts/flakes
[git]: https://git-scm.com
[go]: https://go.dev
[jq]: https://stedolan.github.io/jq
[language]: /concepts/nix-language
[last]: /start/nix-run
[nix]: /concepts/nix
[nix-develop]: https://nixos.org/manual/nix/stable/command-ref/new-cli/nix3-develop
[node.js]: https://nodejs.org
[npm]: https://npmjs.org
[output]: /concepts/flake-output
[packages]: /concepts/packages
[rust]: https://rust-lang.org
[shell]: /concepts/nix-shell
[symlinked]: https://en.wikipedia.org/wiki/Symbolic_link
[terraform]: https://terraform.io
